<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agent Chat</title>
  <link rel="stylesheet" href="./src/styles/reset.css" />
  <link rel="stylesheet" href="./src/styles/theme.css" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: var(--agent-bg-zinc-100, #f4f4f5);
      font-family: var(--agent-font-sans, sans-serif);
    }
  </style>
</head>

<body>
  <script type="module">
    import { chatPortalService } from './src/index.ts';

    // 1. Register a Portal Specification
    chatPortalService.registerPortal({
      graph: {
        nodes: [
          { id: 'home', description: 'The home page' },
          { id: 'settings', description: 'User settings page' }
        ],
        edges: [
          { from: 'home', to: 'settings', label: 'Go to settings' }
        ]
      },
      actions: {
        navigate: async (args) => {
          console.log('[Demo] Executing navigate action:', args);
          return { success: true };
        },
        highlight: async (args) => {
          console.log('[Demo] Highlighting element:', args);
          return { success: true };
        }
      },
      state: {
        get: async () => ({
          route: '/home',
          pageId: 'home'
        })
      }
    });


  </script>
  <agent-chat inspector="true" interceptor="true" app-name="DemoApp" portal-name="DemoPortal"
    agent-avatar="https://skcoblobresources.blob.core.windows.net/digital-assets/animations/sk-sami-contigo.gif"></agent-chat>
</body>

</html>