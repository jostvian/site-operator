<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agent Chat</title>
  <link rel="stylesheet" href="./src/styles/reset.css" />
  <link rel="stylesheet" href="./src/styles/theme.css" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: var(--agent-bg-zinc-100, #f4f4f5);
      font-family: var(--agent-font-sans, sans-serif);
    }
  </style>
</head>

<body>
  <script type="module">
    import { chatPortalService } from './src/index.ts';

    // 1. Register a Portal Specification (AppContext v1.1)
    chatPortalService.registerPortal({
      v: "1.1",
      site: {
        name: "Demo CRM",
        description: "A demonstration portal for Site Operator",
        deployment: "local-dev"
      },
      nav: {
        routes: [
          {
            id: 'home',
            path: '/',
            title: 'Home Page',
            description: 'The main dashboard of the application',
            keywords: ['start', 'main', 'dashboard'],
            uiComponents: ['Hero Section', 'Stats Grid'],
            clickTargets: [
              {
                id: 'btn.settings',
                name: 'GoToSettings',
                label: 'Settings',
                kind: 'link',
                action: { type: 'navigate', toPath: '/settings' }
              }
            ]
          },
          {
            id: 'settings',
            path: '/settings',
            title: 'User Settings',
            description: 'Page to manage user preferences',
            clickTargets: [
              {
                id: 'btn.save',
                name: 'SaveSettings',
                label: 'Save Changes',
                kind: 'button',
                action: { type: 'trigger', trigger: 'save_preferences' }
              }
            ]
          }
        ],
        globalClickTargets: [
          {
            id: 'lnk.help',
            name: 'OpenHelp',
            label: 'Help',
            kind: 'button',
            action: { type: 'open', targetId: 'HelpDrawer' }
          }
        ]
      }
    });


  </script>
  <agent-chat inspector="true" interceptor="true" app-name="DemoApp" portal-name="DemoPortal"></agent-chat>
</body>

</html>